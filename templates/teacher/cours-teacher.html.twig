{% extends 'base.html.twig' %}

{% block title %}Mon planning
{% endblock %}

{% block body %}

	<section class="container py-5">

		<div class="d-flex justify-content-between align-items-end mb-5">
			<h1 class="hero-heading mb-0">Mes cours à venir</h1>
		</div>

		<div
			class="row">
			{# Colonne gauche : filtres #}
			<div class="col-md-3 mb-4">
				<div class="card shadow-sm">
					<div class="card-body">
						<h2 class="h5 mb-3">Filtres</h2>

						<div class="mb-3">
							<label for="status-filter" class="form-label">Filtrer par statut</label>
							<select id="status-filter" class="form-select">
								<option value="">Tous les statuts</option>
								<option value="SCHEDULED">Cours à venir</option>
								<option value="CANCELLED">Cours annulés</option>
							</select>
						</div>


					</div>
				</div>


			</div>

			{# Colonne droite : cards des sessions #}
			<div class="col-md-9">
				<p id="session-status" class="text-muted small mb-0"></p>

				<div
					id="session-cards-container" class="d-flex flex-column gap-3">{# Cards générées en JS #}
				</div>
			</div>
		</div>

		<div class="text-center m-5">
			<a class="btn btn-secondary px-4 me-md-2" href="{{ path('app_profile_teacher')}}">Retour</a>
		</div>


		{# Modal de confirmation d'annulation #}
		<div class="modal fade" id="confirmCancelSessionAdminModal" tabindex="-1" aria-labelledby="confirmCancelSessionAdminLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="confirmCancelSessionAdminLabel">
							Confirmer l'annulation
						</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
					</div>
					<div class="modal-body" id="confirmCancelSessionAdminBody">
						Voulez-vous vraiment annuler ce cours ?
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
							Retour
						</button>
						<button type="button" class="btn btn-danger" id="confirmCancelSessionAdminButton" data-bs-dismiss="modal">
							Annuler le cours
						</button>
					</div>
				</div>
			</div>
		</div>


		{# Modal pour la liste des élèves #}
		<div class="modal fade" id="sessionStudentsModal" tabindex="-1" aria-labelledby="sessionStudentsModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="sessionStudentsModalLabel">
							Élèves inscrits
						</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
					</div>
					<div class="modal-body">
						<ul id="sessionStudentsList" class="list-group small">
							<li class="list-group-item text-muted">Chargement...</li>
						</ul>
					</div>
				</div>
			</div>
		</div>


	</section>


	<script src="/js/teacher-sessions.js" defer></script>

{% endblock %}
