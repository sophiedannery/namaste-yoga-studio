{% extends 'base.html.twig' %}

{% block title %}Gérer les comptes élève
{% endblock %}

{% block body %}

	<section class="py-5">
		<div class="container">


			<h1 class="hero-heading mb-5 mt-3 mt-md-0">Suspendre un compte élève</h1>

			<div class="table-responsive">
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>Id</th>
							<th>Nom</th>
							<th>Prénom</th>
							<th>Email</th>
							<th>Création du compte</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						{% for student in students %}
							<tr>
								<td>{{ student.id }}</td>
								<td>{{ student.lastName }}</td>
								<td>{{ student.firstName }}</td>

								<td>{{ student.email }}</td>
								<td>{{ student.createdAt ? student.createdAt|date('Y-m-d') : '' }}</td>
								<td>
									<form method="post" action="{{ path('app_student_delete', {'id': student.id}) }}" onsubmit="return confirm('Voulez-vous suspendre ce compte utilisateur ?');">
										<input type="hidden" name="_token" value="{{ csrf_token('delete_student' ~ student.id) }}">
										<button class="btn  btn-outline-primary px-4 me-md-2">Suspendre</button>
									</form>
								</td>
							</tr>
						{% else %}
							<tr>
								<td colspan="9">Pas de compte élève.</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>

			<div class="text-center m-5">
				<a class="btn btn-outline-primary px-4 me-md-2" href="{{ path('app_admin')}}">Retour</a>
			</div>


		</div>
	</section>
{% endblock %}
